<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Britsenter - Movie List</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate 900 */
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b; 
        }
        ::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b; 
        }

        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
        }

        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Age Rating Badges Colors */
        .rating-G { background-color: #22c55e; color: white; }
        .rating-PG { background-color: #eab308; color: black; }
        .rating-PG-13 { background-color: #f97316; color: white; }
        .rating-R { background-color: #ef4444; color: white; }
        .rating-NC-17 { background-color: #7f1d1d; color: white; }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="text-slate-200">

    <!-- Navbar -->
    <nav class="sticky top-0 z-50 bg-slate-900/95 backdrop-blur-md border-b border-slate-800 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-3 cursor-pointer" onclick="resetApp()">
                    <i class="fa-solid fa-film text-3xl text-indigo-500"></i>
                    <span class="text-xl font-bold tracking-wide text-white">Britsenter<span class="text-indigo-500">Listings</span></span>
                </div>
                
                <!-- Desktop Search -->
                <div class="hidden md:block flex-1 max-w-md mx-4">
                    <div class="relative">
                        <span class="absolute inset-y-0 left-0 flex items-center pl-3">
                            <i class="fa-solid fa-magnifying-glass text-slate-500"></i>
                        </span>
                        <input type="text" id="searchInput" placeholder="Search movies, actors, or genres..." 
                            class="w-full bg-slate-800 text-white border border-slate-700 rounded-full py-2 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent placeholder-slate-500 transition-all">
                    </div>
                </div>

                <!-- Mobile Filter Button -->
                <div class="md:hidden">
                    <button id="mobileMenuBtn" class="text-slate-300 hover:text-white">
                        <i class="fa-solid fa-sliders text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Search (Expandable) -->
        <div id="mobileSearchPanel" class="hidden md:hidden border-t border-slate-800 bg-slate-900 p-4">
             <input type="text" id="mobileSearchInput" placeholder="Search..." class="w-full bg-slate-800 text-white border border-slate-700 rounded-lg py-2 px-4 focus:ring-2 focus:ring-indigo-500">
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Filters & Stats -->
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8">
            
            <!-- Filter Tags -->
            <div class="flex flex-wrap gap-2" id="genreFilters">
                <button onclick="filterByGenre('All')" class="px-4 py-1.5 rounded-full text-sm font-medium bg-indigo-600 text-white shadow-lg shadow-indigo-500/30 transition-all hover:bg-indigo-500 active-filter">All</button>
                <button onclick="filterByGenre('Action')" class="px-4 py-1.5 rounded-full text-sm font-medium bg-slate-800 text-slate-300 hover:bg-slate-700 transition-all">Action</button>
                <button onclick="filterByGenre('Sci-Fi')" class="px-4 py-1.5 rounded-full text-sm font-medium bg-slate-800 text-slate-300 hover:bg-slate-700 transition-all">Sci-Fi</button>
                <button onclick="filterByGenre('Drama')" class="px-4 py-1.5 rounded-full text-sm font-medium bg-slate-800 text-slate-300 hover:bg-slate-700 transition-all">Drama</button>
                <button onclick="filterByGenre('Comedy')" class="px-4 py-1.5 rounded-full text-sm font-medium bg-slate-800 text-slate-300 hover:bg-slate-700 transition-all">Comedy</button>
                <button onclick="filterByGenre('Horror')" class="px-4 py-1.5 rounded-full text-sm font-medium bg-slate-800 text-slate-300 hover:bg-slate-700 transition-all">Horror</button>
                <button onclick="filterByGenre('Family/Fantasy')" class="px-4 py-1.5 rounded-full text-sm font-medium bg-slate-800 text-slate-300 hover:bg-slate-700 transition-all">Family/Fantasy</button>
            </div>

            <!-- Sort/Count -->
            <div class="flex items-center justify-between md:justify-end w-full md:w-auto text-slate-400 text-sm">
                <span id="movieCount">Showing 0 movies</span>
                <div class="ml-4 flex items-center gap-2">
                    <label for="sortSelect">Sort:</label>
                    <select id="sortSelect" class="bg-slate-800 border-none rounded text-slate-200 text-sm focus:ring-1 focus:ring-indigo-500 py-1 px-2 cursor-pointer">
                        <option value="newest">Newest</option>
                        <option value="oldest">Oldest</option>
                        <option value="rating">Top Rated</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Movie Grid -->
        <div id="movieGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- Movie Cards will be injected here -->
        </div>

        <!-- No Results State -->
        <div id="noResults" class="hidden flex flex-col items-center justify-center py-20 text-slate-500">
            <i class="fa-solid fa-film text-6xl mb-4 opacity-20"></i>
            <p class="text-xl font-semibold">No movies found</p>
            <p class="text-sm">Try adjusting your search or filters.</p>
            <button onclick="resetApp()" class="mt-4 text-indigo-400 hover:text-indigo-300 underline">Clear all filters</button>
        </div>

    </div>

    <!-- Footer -->
    <footer class="bg-slate-900 border-t border-slate-800 py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center text-slate-500">
            <p class="mb-2">&copy; 2025 AshenAtthanayaka17. All rights reserved.</p>
            <p class="text-xs">Data is for demonstration purposes only.</p>
        </div>
    </footer>

    <!-- Modal -->
    <div id="movieModal" class="fixed inset-0 z-[100] hidden overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <!-- Background backdrop -->
        <div class="fixed inset-0 bg-slate-900/90 backdrop-blur-sm transition-opacity" onclick="closeModal()"></div>

        <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
            <div class="relative transform overflow-hidden rounded-2xl bg-slate-800 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-2xl border border-slate-700">
                
                <!-- Close Button -->
                <button onclick="closeModal()" class="absolute top-4 right-4 z-10 p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors">
                    <i class="fa-solid fa-xmark text-xl"></i>
                </button>

                <div class="flex flex-col md:flex-row">
                    <!-- Modal Image -->
                    <div class="md:w-2/5 h-64 md:h-auto relative bg-slate-900">
                         <div id="modalImagePlaceholder" class="w-full h-full flex items-center justify-center text-slate-700 bg-slate-900">
                            <i class="fa-solid fa-image text-4xl"></i>
                         </div>
                         <img id="modalImage" src="" alt="Movie Poster" class="absolute inset-0 w-full h-full object-cover" onerror="this.style.display='none'; this.previousElementSibling.style.display='flex'">
                    </div>

                    <!-- Modal Content -->
                    <div class="md:w-3/5 p-6 md:p-8">
                        <div class="flex items-start justify-between mb-2">
                            <span id="modalGenre" class="text-xs font-bold tracking-wider uppercase text-indigo-400">Action</span>
                            <div class="flex items-center gap-1 text-yellow-400">
                                <i class="fa-solid fa-star"></i>
                                <span id="modalRating" class="font-bold text-white">8.5</span>
                            </div>
                        </div>
                        
                        <h3 id="modalTitle" class="text-2xl md:text-3xl font-bold text-white mb-2 leading-tight">Movie Title</h3>
                        
                        <div class="flex flex-wrap items-center gap-3 text-sm text-slate-400 mb-6">
                            <span id="modalYear">2023</span>
                            <span>&bull;</span>
                            <span id="modalDuration">2h 15m</span>
                            <span>&bull;</span>
                            <span id="modalAge" class="px-2 py-0.5 rounded text-xs font-bold text-slate-900 bg-slate-200">PG-13</span>
                        </div>

                        <div class="space-y-4">
                            <div>
                                <h4 class="text-sm font-semibold text-slate-300 uppercase tracking-wide mb-1">Plot Summary</h4>
                                <p id="modalDescription" class="text-slate-400 leading-relaxed text-sm md:text-base">
                                    Movie description goes here...
                                </p>
                            </div>

                            <div class="grid grid-cols-2 gap-4 pt-4 border-t border-slate-700/50">
                                <div>
                                    <h4 class="text-xs font-semibold text-slate-500 uppercase">Director</h4>
                                    <p id="modalDirector" class="text-slate-200 text-sm">Director Name</p>
                                </div>
                                <div>
                                    <h4 class="text-xs font-semibold text-slate-500 uppercase">Cast</h4>
                                    <p id="modalCast" class="text-slate-200 text-sm truncate">Actor 1, Actor 2</p>
                                </div>
                            </div>

                            <div class="pt-4">
                                <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-medium py-2.5 px-4 rounded-lg transition-colors flex items-center justify-center gap-2">
                                    <i class="fa-solid fa-play"></i> Watch Trailer
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- Mock Data ---
        const movies = [
            {
                id: 1,
                title: "Harry Potter and the Philosopher's Stone",
                genre: "Family/Fantasy",
                year: 2001,
                rating: 7.7,
                age: "PG",
                duration: "2h 32m",
                director: "Chris Columbus",
                cast: "Not Listed Here",
                description: "Harry Potter, an eleven-year-old orphan, discovers that he is a wizard and is invited to study at Hogwarts. Even as he escapes a dreary life and enters a world of magic, he finds trouble awaiting him.",
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQttbZNVGzKnwLBGXrKBkt0VY2J2DubjnH_lSQrJCzdSf5fe4OK8yUM27EYhteFc68Ii7Xr9g&s=10" // Abstract Sci-fi
            },
            {
                id: 2,
                title: "Harry Potter and the Chamber of Secrets",
                genre: "Family/Fantasy",
                year: 2002,
                rating: 7.5,
                age: "PG",
                duration: "2h 41m",
                director: "Chris Columbus",
                cast: "Not Listed Here",
                description: "A house-elf warns Harry against returning to Hogwarts, but he decides to ignore it. When students and creatures at the school begin to get petrified, Harry finds himself surrounded in mystery.",
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1rI0fB3GdfQCFT3HYWrIIreGt74rV1R0n8JgYUmXtzMeOCdIKv4MdmSafc0hi7DksbRtO&s=10" // Abstract Sci-fi
            },
            {
                id: 3,
                title: "Aladin",
                genre: "Family/Fantasy",
                year: 2019,
                rating: 6.9,
                age: "PG",
                duration: "2h 8m",
                director: "Guy Ritchie",
                cast: "Not Listed Here",
                description: "Aladdin, a kind thief, woos Jasmine, the princess of Agrabah, with the help of Genie. When Jafar, the grand vizier, tries to usurp the king, Jasmine, Aladdin and Genie must stop him from succeeding.",
                image: "https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQN7rKaiXV3ch73i1CfzmnQmtyIeXv1cP_FMrzNWmdYvvSI870W" // Abstract Sci-fi
            }
        ];

        // --- State ---
        let currentFilter = 'All';
        let currentSort = 'newest';
        let searchQuery = '';

        // --- DOM Elements ---
        const movieGrid = document.getElementById('movieGrid');
        const searchInput = document.getElementById('searchInput');
        const mobileSearchInput = document.getElementById('mobileSearchInput');
        const sortSelect = document.getElementById('sortSelect');
        const genreFilters = document.getElementById('genreFilters');
        const movieCount = document.getElementById('movieCount');
        const noResults = document.getElementById('noResults');
        const modal = document.getElementById('movieModal');

        // --- Initialization ---
        function init() {
            renderMovies();

            // Search Listeners
            searchInput.addEventListener('input', (e) => handleSearch(e.target.value));
            mobileSearchInput.addEventListener('input', (e) => handleSearch(e.target.value));
            
            // Sort Listener
            sortSelect.addEventListener('change', (e) => {
                currentSort = e.target.value;
                renderMovies();
            });

            // Mobile Menu Toggle
            document.getElementById('mobileMenuBtn').addEventListener('click', () => {
                const panel = document.getElementById('mobileSearchPanel');
                panel.classList.toggle('hidden');
            });
        }

        // --- Core Logic ---
        function handleSearch(query) {
            searchQuery = query.toLowerCase();
            renderMovies();
        }

        function filterByGenre(genre) {
            currentFilter = genre;
            
            // Update visual button state
            const buttons = genreFilters.querySelectorAll('button');
            buttons.forEach(btn => {
                if(btn.innerText === genre) {
                    btn.classList.remove('bg-slate-800', 'text-slate-300');
                    btn.classList.add('bg-indigo-600', 'text-white', 'shadow-lg', 'shadow-indigo-500/30');
                } else {
                    btn.classList.add('bg-slate-800', 'text-slate-300');
                    btn.classList.remove('bg-indigo-600', 'text-white', 'shadow-lg', 'shadow-indigo-500/30');
                }
            });

            renderMovies();
        }

        function resetApp() {
            searchInput.value = '';
            mobileSearchInput.value = '';
            searchQuery = '';
            filterByGenre('All');
        }

        function getFilteredAndSortedMovies() {
            let filtered = movies.filter(movie => {
                const matchesGenre = currentFilter === 'All' || movie.genre === currentFilter;
                const matchesSearch = movie.title.toLowerCase().includes(searchQuery) || 
                                      movie.director.toLowerCase().includes(searchQuery) ||
                                      movie.cast.toLowerCase().includes(searchQuery);
                return matchesGenre && matchesSearch;
            });

            return filtered.sort((a, b) => {
                if (currentSort === 'newest') return b.year - a.year;
                if (currentSort === 'oldest') return a.year - b.year;
                if (currentSort === 'rating') return b.rating - a.rating;
                return 0;
            });
        }

        function renderMovies() {
            const displayMovies = getFilteredAndSortedMovies();
            
            movieCount.innerText = `Showing ${displayMovies.length} movie${displayMovies.length !== 1 ? 's' : ''}`;
            movieGrid.innerHTML = '';

            if (displayMovies.length === 0) {
                movieGrid.classList.add('hidden');
                noResults.classList.remove('hidden');
            } else {
                movieGrid.classList.remove('hidden');
                noResults.classList.add('hidden');
                
                displayMovies.forEach(movie => {
                    const card = document.createElement('div');
                    card.className = 'bg-slate-800 rounded-xl overflow-hidden shadow-lg border border-slate-700/50 card-hover transition-all duration-300 cursor-pointer fade-in';
                    card.onclick = () => openModal(movie);

                    // Determine rating color class
                    const ratingClass = `rating-${movie.age}`;

                    card.innerHTML = `
                        <div class="relative aspect-[2/3] bg-slate-900 overflow-hidden group">
                            <div class="absolute inset-0 flex items-center justify-center text-slate-700">
                                <i class="fa-solid fa-film text-4xl"></i>
                            </div>
                            <img src="${movie.image}" alt="${movie.title}" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" onerror="this.style.display='none'">
                            <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-transparent to-transparent opacity-80"></div>
                            <div class="absolute bottom-4 left-4 right-4">
                                <span class="inline-block px-2 py-1 text-xs font-bold rounded mb-2 bg-indigo-500/20 text-indigo-200 backdrop-blur-sm border border-indigo-500/30">${movie.genre}</span>
                            </div>
                             <div class="absolute top-3 right-3 flex flex-col gap-2 items-end">
                                <span class="px-2 py-1 text-xs font-bold rounded shadow-sm ${ratingClass}">${movie.age}</span>
                            </div>
                        </div>
                        <div class="p-5">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="text-lg font-bold text-white leading-tight group-hover:text-indigo-400 transition-colors line-clamp-1" title="${movie.title}">${movie.title}</h3>
                                <div class="flex items-center text-yellow-400 text-sm font-semibold">
                                    <i class="fa-solid fa-star text-xs mr-1"></i>${movie.rating}
                                </div>
                            </div>
                            <div class="flex items-center text-sm text-slate-400 mb-3 gap-3">
                                <span>${movie.year}</span>
                                <span class="text-slate-600">â€¢</span>
                                <span>${movie.duration}</span>
                            </div>
                            <p class="text-sm text-slate-400 line-clamp-3 mb-4">${movie.description}</p>
                            <div class="flex items-center text-xs font-medium text-indigo-400 group hover:text-indigo-300 transition-colors">
                                View Details <i class="fa-solid fa-arrow-right ml-1 transform group-hover:translate-x-1 transition-transform"></i>
                            </div>
                        </div>
                    `;
                    movieGrid.appendChild(card);
                });
            }
        }

        // --- Modal Logic ---
        function openModal(movie) {
            document.getElementById('modalTitle').innerText = movie.title;
            document.getElementById('modalGenre').innerText = movie.genre;
            document.getElementById('modalRating').innerText = movie.rating;
            document.getElementById('modalYear').innerText = movie.year;
            document.getElementById('modalDuration').innerText = movie.duration;
            document.getElementById('modalAge').innerText = movie.age;
            document.getElementById('modalDescription').innerText = movie.description;
            document.getElementById('modalDirector').innerText = movie.director;
            document.getElementById('modalCast').innerText = movie.cast;
            
            const img = document.getElementById('modalImage');
            img.src = movie.image;
            img.style.display = 'block';

            // Set Age badge color in modal
            const ageBadge = document.getElementById('modalAge');
            ageBadge.className = `px-2.5 py-1 rounded text-sm font-bold shadow-sm rating-${movie.age}`;

            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeModal() {
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Close modal on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                closeModal();
            }
        });

        // Initialize the app
        init();

    </script>
</body>
</html>
